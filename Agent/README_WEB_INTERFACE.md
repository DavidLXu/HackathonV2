# 智慧冰箱Web界面使用说明

## 功能概述

这是一个现代化的智慧冰箱管理系统，提供以下功能：

### 🎯 主要功能

1. **实时监控** - 显示冰箱内所有物品的状态
2. **智能推荐** - 基于时间和物品状态提供个性化推荐
3. **物品管理** - 添加和取出物品（支持食物和非食物）
4. **保质期管理** - 可视化显示物品保质期状态，支持长期保存物品

### 🎨 界面特色

- **Emoji支持** - 每种食物都有对应的emoji图标
- **进度条显示** - 直观显示物品保质期剩余时间
- **响应式设计** - 支持手机和电脑访问
- **实时更新** - 每30秒自动刷新数据

## 使用方法

### 1. 启动Web服务器

```bash
python web_interface.py
```

然后在浏览器中访问：`http://localhost:8080`

### 2. 主要操作按钮

#### 📱 接近传感器（模拟）
- **位置**：左下角蓝色按钮
- **功能**：模拟用户接近冰箱，提供个性化推荐
- **特点**：根据当前时间（早上/下午/晚上）和工作日/周末提供不同推荐

#### ➕ 放入物品
- **位置**：左下角绿色按钮
- **功能**：上传图片并自动识别食物类型
- **步骤**：
  1. 点击"放入物品"按钮
  2. 选择食物图片
  3. 预览图片确认
  4. 点击"确认放入"
- **智能特性**：
  - 自动识别食物类型
  - 根据最佳存储温度选择合适层数
  - 自动寻找空闲扇区
  - 记录保质期信息

#### ➖ 取出物品
- **位置**：左下角橙色按钮
- **功能**：高亮显示推荐物品，方便取出
- **特点**：
  - 推荐物品会高亮显示
  - 其他物品会变暗
  - 每个物品都有"取出"按钮

#### 🔄 刷新数据
- **位置**：右下角圆形按钮
- **功能**：手动刷新冰箱状态

### 3. 界面区域说明

#### 📊 统计卡片
- **总物品数**：冰箱内所有物品数量
- **新鲜物品**：未过期且保质期充足的食物
- **长期保存**：无保质期的物品（如乐器、工具等）
- **即将过期**：2天内过期的食物
- **已过期**：已经过期的食物

#### 🏠 冰箱网格
- 显示5层冰箱的占用情况
- 每层4个扇区
- 不同颜色表示不同温度区域：
  - 🧊 冷冻区（2°C）
  - ❄️ 冷藏区（4°C）
  - 🌡️ 保鲜区（6-10°C）

#### 📦 物品列表
- 显示所有冰箱内物品
- 每个物品包含：
  - Emoji图标
  - 物品名称
  - 存储位置
  - 保质期进度条
  - 剩余天数或"长期保存"标识

#### 💡 智能推荐
- 基于当前冰箱状态提供建议
- 包括过期提醒、营养搭配、烹饪建议等

## 技术特性

### 🔧 后端技术
- **Flask** - Web框架
- **Qwen VL** - 视觉语言模型，用于食物识别
- **JSON存储** - 持久化冰箱数据
- **智能规划** - 自动选择最佳存储位置

### 🎨 前端技术
- **Bootstrap 5** - 响应式UI框架
- **Font Awesome** - 图标库
- **CSS Grid** - 现代化布局
- **JavaScript** - 动态交互

### 🤖 AI功能
- **物品识别** - 自动识别上传的图片中的物品（食物或非食物）
- **温度匹配** - 根据物品特性选择最佳存储温度
- **保质期管理** - 自动判断保质期（食物）或长期保存（非食物）
- **智能推荐** - 基于多种因素提供个性化建议

## 故障排除

### 常见问题

1. **API调用失败**
   - 检查网络连接
   - 确认API密钥正确
   - 系统会自动重试3次

2. **图片上传失败**
   - 确保选择的是图片文件
   - 检查文件大小（建议小于10MB）
   - 支持格式：JPG, PNG, JPEG

3. **页面无法访问**
   - 确认Web服务器正在运行
   - 检查端口8080是否被占用
   - 尝试访问 `http://localhost:8080`

### 调试模式

Web服务器运行在调试模式下，可以在控制台查看详细日志信息。

## 扩展功能

### 未来计划
- [ ] 用户偏好设置
- [ ] 购物清单功能
- [ ] 营养分析
- [ ] 食谱推荐
- [ ] 移动端APP

### 自定义配置
可以通过修改 `smart_fridge_qwen.py` 中的配置来调整：
- 冰箱层数和扇区数
- 温度分布
- API密钥
- 存储路径

---

**享受你的智慧冰箱体验！** 🎉 